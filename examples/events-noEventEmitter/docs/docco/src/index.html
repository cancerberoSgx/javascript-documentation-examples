<!DOCTYPE html>

<html>
<head>
  <title>index.ts</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="../docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>index.ts</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">import</span> { on } <span class="hljs-keyword">from</span> <span class="hljs-string">'cluster'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h2 id="what-s-this-">What’s this?</h2>
<p>(Part of <a href="https://github.com/cancerberoSgx/javascript-documentation-examples">Sebastian’s javascript-documentation-examples project</a>)</p>
<p>This is an example similar to <a href="https://cancerberosgx.github.io/javascript-documentation-examples/examples/events-001/docs/docco/src/index.html">events-001</a> but using a rich event - listeners, class inheritance hierarchy that’s completely unrelated with <code>EventEmitter</code>. </p>
<p>Also it tries to define events as members so they don’t appear all grouped under the method name which is ugly .</p>
<p><a href="https://cancerberosgx.github.io/javascript-documentation-examples/examples/events-noEventEmitter/docs/interfaces/igenericdeviceeventsource.html#adddevicelistener"><strong>This is the final output</strong></a></p>
<p>You can notice in the output that, because the method name is not so short as <code>on()</code> , the output that describe these events doesn’t look good. Mostly because all these events are grouped together under the same label <code>addDeviceListener</code></p>
<p>In my case I really need to name my events arbitrarily. After all events are an artificial concept, they aren’t methods, nor objects so I should be able to name them a ‘piaccere’. That’s why I came up with <a href="https://github.com/cancerberoSgx/typedoc-plugin-respect-name-tag">typedoc-plugin-respect-name-tag TypeDoc plugin </a> . Using it, if some entity is annotated with a <code>@name</code> tag it will be named by typedoc with that name </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-comment">/**
 * Nostrud officia labore non pariatur exercitation irure consectetur ut reprehenderit dolor.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> IMouseEventSource <span class="hljs-keyword">extends</span> IDeviceEventSource{
  <span class="hljs-comment">/**
   * Qui cillum aliqua id ex consequat dolore ut commodo proident veniam. 
   */</span>
  addMouseListener(l:IMouseEventListener):<span class="hljs-built_in">void</span>;
}
<span class="hljs-comment">/**
 * Lorem voluptate laboris aliquip cillum elit.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> IDeviceEventSource{
  <span class="hljs-comment">/**
   * Occaecat esse eiusmod veniam aliquip qui consectetur.
   */</span>
  name:<span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/**
   * Commodo labore exercitation exercitation laborum consectetur aliqua nulla pariatur consectetur commodo ut magna proident.
   */</span>
  ip:<span class="hljs-built_in">number</span>;

  <span class="hljs-comment">/**
   * a generic event source that will trigger named events
   * @event
   * @param deviceName 
   * @param listener 
   */</span>
  addDeviceListener(deviceName:<span class="hljs-built_in">string</span>, listener:IDeviceEventListener):<span class="hljs-built_in">void</span>;
}

<span class="hljs-comment">/**
 * Ipsum commodo ut fugiat proident.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> IGenericDeviceEventSource <span class="hljs-keyword">extends</span> IDeviceEventSource{</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-comment">/**
   * a generic event source that will trigger named events
   * @event
   * @param deviceName  
   * @param listener 
   */</span>
  addDeviceListener(eventName:<span class="hljs-string">'mouse'</span>, listener:IMouseEventListener):<span class="hljs-built_in">void</span>;
 <span class="hljs-comment">/**
   * a generic event source that will trigger named events
   * @event keyboard1232123
   * @name keyboard123
   * @param deviceName  
   * @param listener 
   */</span>
  addDeviceListener(eventName:<span class="hljs-string">'keyboard'</span>, listener:IKeyboardEventListener):<span class="hljs-built_in">void</span>;
 <span class="hljs-comment">/**
   * a generic event source that will trigger named events
   * @event
   * @param deviceName  
   * @param listener 
   */</span>
  addDeviceListener(eventName:<span class="hljs-string">'mic'</span>, listener:IMicEventListener):<span class="hljs-built_in">void</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>You can see in <a href="https://cancerberosgx.github.io/javascript-documentation-examples/examples/events-noEventEmitter/docs/interfaces/igenericdeviceeventsource.html#adddevicelistener">the output</a> that all evens appear grouped under the same method name <code>addDeviceListener</code> which is ugly and confusing. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>We could think a way of solving this is with another approach, this time defining our events as individual members so they doesn’t appear all grouped:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> IDownloadEventEmitter2{

  <span class="hljs-comment">/**
   * This method trigger events. Unfortunately I don't know yet how to express that in typedoc. 
   * This method might trigger [[error]] event in case something goes wrong or if it rains. Also susceptible of triggering [[progress]] event ro indicate how is going and [[finish]] when is done ni which case resolve returned
   * @param config 
   */</span>
  startDownloading2(config: {data:<span class="hljs-built_in">number</span>[], ts:<span class="hljs-built_in">Date</span>, url: <span class="hljs-built_in">string</span>}): <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt;;
  <span class="hljs-comment">/**
   * triggered by [[startDownloading2]] when there is an error. Use [[on]] to subscribe for this event.
   * @event
   */</span>
  error: <span class="hljs-function">(<span class="hljs-params">event: <span class="hljs-built_in">Error</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-comment">/**
   * triggered by [[startDownloading]] when there is an download ends. Use [[on]] to subscribe for this event.
   * @event
   */</span>
  finish: <span class="hljs-function">(<span class="hljs-params">event: {when: <span class="hljs-built_in">Date</span>, bytes: Buffer, url: <span class="hljs-built_in">String</span>, codec: <span class="hljs-built_in">number</span>[]}</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-comment">/**
   * triggered by [[startDownloading]]  on progress. Use [[on]] to subscribe for this event.
   * @event
   */</span>
  progress: <span class="hljs-function">(<span class="hljs-params">event: {when: <span class="hljs-built_in">Date</span>, bytes: Buffer, url: <span class="hljs-built_in">String</span>, codec: <span class="hljs-built_in">number</span>[], progress: <span class="hljs-built_in">number</span>}</span>) =&gt;</span> <span class="hljs-built_in">void</span>;

}</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p><a href="https://cancerberosgx.github.io/javascript-documentation-examples/examples/events-noEventEmitter/docs/interfaces/idownloadeventemitter2.html#error">The output looks good now</a> (events non stacked) but  <strong>there is something very wrong</strong>: We are defining new synthetic members that now subclasses must implement. These definitions are not needed ni the real world. <strong>We dont want to sacrifice simplicity because of documentation tool limits</strong></p>
<p>The solution for this (I promise the final one) is using a plugin and defining event as separate function declarations as fully explained <a href="https://cancerberosgx.github.io/javascript-documentation-examples/examples/events-002/docs/docco/src/index.html">here</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>






<span class="hljs-comment">/**
 * Mollit elit sunt anim minim dolore occaecat.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> IMouseEventListener <span class="hljs-keyword">extends</span> IDeviceEventListener{
  <span class="hljs-comment">/**
   * Reprehenderit sunt ad consectetur deserunt exercitation veniam et 
   * @param event 
   */</span>
  click(event: IMouseClickEvent):<span class="hljs-built_in">void</span>;
}
<span class="hljs-comment">/**
 * Mollit elit sunt anim minim dolore occaecat.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> IKeyboardEventListener <span class="hljs-keyword">extends</span> IDeviceEventListener{
  <span class="hljs-comment">/**
   * Reprehenderit sunt ad consectetur deserunt exercitation veniam et 
   * @param event 
   */</span>
  click(event: IKeypressedEvent):<span class="hljs-built_in">void</span>;
}
<span class="hljs-comment">/**
 * Mollit elit sunt anim minim dolore occaecat.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> IMicEventListener <span class="hljs-keyword">extends</span> IDeviceEventListener{
  <span class="hljs-comment">/**
   * Reprehenderit sunt ad consectetur deserunt exercitation veniam et 
   * @param event 
   */</span>
  keypressed(event:IMicEvent):<span class="hljs-built_in">void</span>;
}


<span class="hljs-comment">/**
 * Tempor velit eu proident cupidatat do exercitation adipisicing esse fugiat velit et ad quis.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> IDeviceEventListener {
  <span class="hljs-comment">/**
   * Consequat duis eu ad exercitation nostrud irure exercitation dolor.
   */</span>
  priority: <span class="hljs-built_in">number</span>;
}
<span class="hljs-comment">/**
 * Laboris proident magna sint ex sit officia dolore do veniam incididunt irure.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> IMouseClickEvent <span class="hljs-keyword">extends</span> IDeviceEvent{
  <span class="hljs-comment">/**
   * Quis incididunt magna qui tempor magna occaecat.
   */</span>
  x: <span class="hljs-built_in">number</span>;
  <span class="hljs-comment">/**
   * Veniam non do aliqua id.
   */</span>
  y:<span class="hljs-built_in">number</span>;
  <span class="hljs-comment">/**
   * Amet consectetur ad sit cupidatat.
   */</span>
  button: <span class="hljs-string">'left'</span>|<span class="hljs-string">'right'</span>|<span class="hljs-string">'middle'</span>;

}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> IKeypressedEvent <span class="hljs-keyword">extends</span> IDeviceEvent{
  key:<span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> IMicEvent <span class="hljs-keyword">extends</span> IDeviceEvent{
  sound:<span class="hljs-built_in">string</span>;
}


<span class="hljs-comment">/**
 * Proident sit cillum ea et tempor minim ut consequat incididunt velit officia cillum cillum.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> IDeviceEvent{
  ts:<span class="hljs-built_in">Date</span>;
}

<span class="hljs-keyword">class</span> MouseEventSource <span class="hljs-keyword">implements</span> IMouseEventSource{
  addDeviceListener(deviceName: <span class="hljs-built_in">string</span>, listener: IDeviceEventListener): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Method not implemented.'</span>);
  }
  name: <span class="hljs-built_in">string</span>;
  ip: <span class="hljs-built_in">number</span>;
  addMouseListener(l:IMouseEventListener):<span class="hljs-built_in">void</span> {}
}</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
